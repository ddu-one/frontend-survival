1. Service worker
2. MSW(Mock Service Worker)
3. polyfill(폴리필)

## 1. Service worker
> 서비스 워커는 특정 출처(사이트)희 하나 혹은 그 이상의 페이지를 제어하는 스크립트이며, 이벤트 기반 워커로서 javaScript로 작성된 파일이다.
서비스 워커는 자신이 제어하는 페이지에서 발생하는 이벤트를 수신할 수 있다. 웹에서의 네트워크 요청과 같은 이벤트를 가로채어 수정할 수 있고 이를 다시 페이지로 돌려보낼 수 있다. 또한, 서비스에서 사용하는 리소스를 캐싱할 수 있다.

#### 서비스 워커의 위치
서비스워커가 네트워크 요청을 가로챌 수 있고, 리소스를 캐싱할 수 있는 이유는 브라우저 또는 탭의 외부에 위치하기 때문이다. 
서비스 워커는 브라우저와 네트워크 사이의 새로운 계층에 존재한다.
따라서, 브라우저와 네트워크 사이의 연결과 관계없이 서비스 워커는 브라우저와의 독릭적인 연결을 가진다. 이러한 특징 덕분에, 오프라인 상태 또는 네트워크가 느린 상태일 때 브라우저에 캐시 된 리소스를 전달할 수 있다.
서비스 워커가 독립적이라는 부분을 조금 더 생각해보면, 사용자가 브라우저에서 사용 중인 모든 탭을 닫아도, 서비스 워커는 여전히 네트워크와 통신할 수 있다. 
이를 통해 푸시일림을 수신하면 브라우저에 전달할 수 있고 백그라운드에서 앱의 데이터를 최신화할 수 있다.

#### 서비스 워커의 생명주기
> 설치중 -> 설치됨/대치중 -> 활성화중 -> 활성화됨 -> 중복

**1.설치중(Installing)**
`navigator.serviceWorker.register`를 사용하여 새로운 서비스 워커를 등록할 수 있다. 이때 자바스크립트 파일이 다운로드되고 파싱되고 나면 서비스 워커는 설치중 상태가 된다. 설치가 성공적으로 이루어지면 설치됨 상태가 되고, 설치가 실패한다면 중복 상태가 된다.
-> install 이벤트 콜백에서 `waitUntil()` 메서드를 호출하면 호출 시 전달한 프로미스가 완료 또는 실패될 때까지 설치중 상태를 유지할 수 있게 한다.

**2. 설치됨/대기중(Installed/waiting)**
서비스 워커가 성공적으로 설치되면 설치됨 상태가 된다. 만약 현재 활성화된 서비스 워커가 없다면 즉시 활성화 중 상태가 된다. 다른 서비스 워커가 앱을 제어하고 있다면 대기중 상태가 된다.

**3. 활성화 중(Activating)**
서비스 워커가 활성화되기 직전의 상태이다.
-> 활성화 되기 직전 activate 이벤트가 발생한다. 설치중 상태와 같이, `waitUtil()` 메서드를 활용하여 활성화 중 상태를 유지할 수 있다.

**4. 활성화됨(Activated)**
서비스 워커가 활성화 된 상태이다. 이제 서비스 워커는 앱을 제어할 수 있고 	fetch 이벤트와 같은 동작 이벤트를 받아서 처리할 수 있다.

**5. 중복(Redundant)**
서비스 워커가 등록 중, 설치 중 실패하거나 새로운 버전으로 교체되면 중복 상태가 된다. 이 상태의 서비스 워커는 앱에 아무런 영향을 미칠 수 없다.


## 2. MSW(Mock Service Worker)
> service worker를 이요해 서버를 향한 실제 네트워크 요청을 가로채서(intercept) 모의 응답(Mocked response)를 보내주는 API Mocking 라이브러리이다. MSW를 사용하면 직접 Mock 서버를 구현하지 않아도, 네트워크 수준에서 API를 Mocking 할 수 있다. Mocking 테스트를 위한 노드(Node.js)환경, 개발 및 디버깅을 위한 브라우저 환경에서 모두 사용할 수 있다는 장점이 있다. 또한, 소스 코드 수정 없이 모킹이 필요한 환경에서만 MSW 인스턴스를 실행해 API Mocking을 적용할 수 있다.

MSW가 이런 기능을 제공할 수 있는 이유는 Service Worker를 이용해 HTTP 요청을 가로채기 때문이다.

```
npm i -D msw
```

## 3. polyfill (= 충전솜)
> 폴리필은 기본적으로 지원하지 않는 이전 브라우저에서 최신 기능을 제공하는데 필요한 코드 (일반적으로 웹 javaScript)입니다.

https://fe-developers.kakaoent.com/2022/221208-service-worker/
https://velog.io/@hancihu/%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%9B%8C%EC%BB%A4%EC%9D%98-%EC%83%9D%EB%AA%85-%EC%A3%BC%EA%B8%B0%EC%99%80-%EC%BA%90%EC%8B%9C-%EA%B4%80%EB%A6%AC
https://velog.io/@khy226/msw%EB%A1%9C-%EB%AA%A8%EC%9D%98-%EC%84%9C%EB%B2%84-%EB%A7%8C%EB%93%A4%EA%B8%B0